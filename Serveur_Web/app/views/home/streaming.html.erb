<h1>Streaming du cours</h1>
<div id="stream_active" style="display:none">
<applet name="cvcs" codeBase="http://192.168.42.15" archive="aplug.jar" code="aplug.class" width=320 height=240>
<param name="RemotePort" value=80>
<param name="Timeout" value=5000>
<param name="RotateAngle" value=0>
<param name="PreviewFrameRate" value=2>
<param name="Algorithm" value="1">
<param name="DeviceSerialNo" value="YWRtaW46U21hcnRDbGFzcw==">
</applet>
</div>

<div id="stream_inactive" style="display:none">
Le cours n'a pas encore commenc√©.
</div>
<div id="loading">
Chargement...
</div>
<div class="result"></div>

<script>
  var active = -1;
  function enable () {
    if (active != 1) {
      active = 1;
      $("#loading").hide();
      $("#stream_inactive").hide();
      $("#stream_active").show();
    }
  };
  function disable () {
    if (active != 0) {
      active = 0;
      $("#loading").hide();
      $("#stream_active").hide();
      $("#stream_inactive").show();
    }
  };
  setInterval(function() {
    $.get( "/stream_active", null, function( data ) {
      if (data) {
        enable();
      } else {
        disable();
      };
    }, "json");
  }, 2000);
</script>
